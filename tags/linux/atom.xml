<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="zh">
    <title>冰龙圣土 - Linux</title>
    <subtitle>飞舞的冰龙的个人空间</subtitle>
    <link rel="self" type="application/atom+xml" href="https://flyingicedragon.github.io/tags/linux/atom.xml"/>
    <link rel="alternate" type="text/html" href="https://flyingicedragon.github.io/"/>
    <generator uri="https://www.getzola.org/">Zola</generator>
    <updated>2024-06-20T00:00:00+00:00</updated>
    <id>https://flyingicedragon.github.io/tags/linux/atom.xml</id>
    <entry xml:lang="zh">
        <title>Just 和 Justfile 简介与 fzf 配置</title>
        <published>2024-06-20T00:00:00+00:00</published>
        <updated>2024-06-20T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://flyingicedragon.github.io/blog/just/"/>
        <id>https://flyingicedragon.github.io/blog/just/</id>
        
        <content type="html" xml:base="https://flyingicedragon.github.io/blog/just/">&lt;p&gt;&lt;code&gt;Just&lt;&#x2F;code&gt;是一个使用&lt;code&gt;Rust&lt;&#x2F;code&gt;开发的类似&lt;code&gt;Make&lt;&#x2F;code&gt;的保存和运行命令工具。其语法与&lt;code&gt;Make&lt;&#x2F;code&gt;高度类似。同于由于并非构建系统，所以语法相对简单。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;Just&lt;&#x2F;code&gt;拥有不错的中英文文档，相关内容不在此赘述。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;just.systems&#x2F;man&#x2F;en&#x2F;&quot;&gt;英文文档&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;
&lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;just.systems&#x2F;man&#x2F;zh&#x2F;&quot;&gt;中文文档&lt;&#x2F;a&gt;时效性略低，建议只作为快速了解使用。后期查询详细功能还是直接看英文文档。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;yi-jiao-hu-fang-shi-xuan-ze-pei-fang&quot;&gt;以交互方式选择配方&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;code&gt;Just&lt;&#x2F;code&gt;支持&lt;code&gt;--choose&lt;&#x2F;code&gt;参数来唤起一个选择器来选择配方。默认选择器是&lt;code&gt;fzf&lt;&#x2F;code&gt;，同时也可以使用&lt;code&gt;--chooser&lt;&#x2F;code&gt;参数来设置一个选择器。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;just.systems&#x2F;man&#x2F;en&#x2F;chapter_53.html&quot;&gt;Doc&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;zai-zshzhong-she-zhi-kuai-jie-jian-diao-yong-fzf&quot;&gt;在&lt;code&gt;zsh&lt;&#x2F;code&gt;中设置快捷键调用&lt;code&gt;fzf&lt;&#x2F;code&gt;&lt;&#x2F;h2&gt;
&lt;p&gt;添加以下内容至&lt;code&gt;.zshrc&lt;&#x2F;code&gt;：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;bindkey -s &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b8bb26;&quot;&gt;&amp;quot;^[OP&amp;quot; &amp;quot;just --choose^M&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;bindkey -s &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b8bb26;&quot;&gt;&amp;quot;^[OQ&amp;quot; &amp;quot;just -g --choose^M&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;code&gt;bindkey&lt;&#x2F;code&gt;命令用于在&lt;code&gt;zsh&lt;&#x2F;code&gt;中绑定快捷键。&lt;code&gt;^[OP&lt;&#x2F;code&gt;和&lt;code&gt;^[OQ&lt;&#x2F;code&gt;分别对应&lt;code&gt;F1&lt;&#x2F;code&gt;和&lt;code&gt;F2&lt;&#x2F;code&gt;。可以在&lt;code&gt;zsh&lt;&#x2F;code&gt;中输入&lt;code&gt;cat&lt;&#x2F;code&gt;和&lt;code&gt;Enter&lt;&#x2F;code&gt;后再键入相关按键查看相关symbols。&lt;&#x2F;p&gt;
&lt;p&gt;这里使用&lt;code&gt;F1&lt;&#x2F;code&gt;选择当前项目中的命令，使用&lt;code&gt;F2&lt;&#x2F;code&gt;选择全局命令。&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="zh">
        <title>borgbackup 超快速入门</title>
        <published>2024-06-17T00:00:00+00:00</published>
        <updated>2024-06-17T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://flyingicedragon.github.io/blog/borgbackup/"/>
        <id>https://flyingicedragon.github.io/blog/borgbackup/</id>
        
        <content type="html" xml:base="https://flyingicedragon.github.io/blog/borgbackup/">&lt;p&gt;&lt;code&gt;Borg&lt;&#x2F;code&gt;是一个用于备份的工具，本文节选并翻译自&lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;borgbackup.readthedocs.io&#x2F;en&#x2F;stable&#x2F;quickstart.html&quot;&gt;官方快速入门&lt;&#x2F;a&gt;。&lt;&#x2F;p&gt;
&lt;p&gt;官方文档编写得十分翔实，本文建议只作为快速了解所用。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;an-zhuang&quot;&gt;安装&lt;&#x2F;h2&gt;
&lt;p&gt;安装方法众多，包括&lt;code&gt;apt&lt;&#x2F;code&gt;、&lt;code&gt;pip&lt;&#x2F;code&gt;等。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;borgbackup.readthedocs.io&#x2F;en&#x2F;stable&#x2F;installation.html&quot;&gt;Installation&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;xin-jian-repository&quot;&gt;新建repository&lt;&#x2F;h2&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;borg init --encryption&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fe8019;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;repokey &#x2F;path&#x2F;to&#x2F;repo
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;code&gt;Borg&lt;&#x2F;code&gt;也支持利用&lt;code&gt;ssh&lt;&#x2F;code&gt;等远程位置进行备份。&lt;br &#x2F;&gt;
可以设置&lt;code&gt;--encryption&lt;&#x2F;code&gt;参数为&lt;code&gt;none&lt;&#x2F;code&gt;关闭加密。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;bei-fen-mu-lu&quot;&gt;备份目录&lt;&#x2F;h2&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;borg create &#x2F;path&#x2F;to&#x2F;repo::Monday ~&#x2F;src ~&#x2F;Documents
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;“Monday”是备份（archive）的名称，需要为一个唯一的名称，并且得是一个有效的目录名。&lt;br &#x2F;&gt;
可以使用&lt;code&gt;{now}&lt;&#x2F;code&gt;等占位符方便生成唯一名称。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;borg create &#x2F;path&#x2F;to&#x2F;repo::src_{now} ~&#x2F;src
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;zai-di-er-tian-jian-li-yi-ge-xin-de-bei-fen&quot;&gt;在第二天建立一个新的备份&lt;&#x2F;h2&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;borg create --stats &#x2F;path&#x2F;to&#x2F;repo::Tuesday ~&#x2F;src ~&#x2F;Documents
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;由于采用增量备份的原因，第二次备份的速度会快得多。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;lie-chu-suo-you-bei-fen&quot;&gt;列出所有备份&lt;&#x2F;h2&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;$ borg list &#x2F;path&#x2F;to&#x2F;repo
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;drwxr-xr-x user   group          0 Mon, 2016-02-15 18:22:30 home&#x2F;user&#x2F;Documents
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;-rw-r--r-- user   group       7961 Mon, 2016-02-15 18:22:30 home&#x2F;user&#x2F;Documents&#x2F;Important.doc
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;...
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;hui-fu-monday-bei-fen&quot;&gt;恢复“Monday”备份&lt;&#x2F;h2&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;borg extract &#x2F;path&#x2F;to&#x2F;repo::Monday
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;shan-chu-monday-bei-fen&quot;&gt;删除“Monday”备份&lt;&#x2F;h2&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;borg delete &#x2F;path&#x2F;to&#x2F;repo::Monday
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;注意：仅仅删除不会释放硬盘空间&lt;&#x2F;p&gt;
&lt;h2 id=&quot;shi-fang-ying-pan-kong-jian&quot;&gt;释放硬盘空间&lt;&#x2F;h2&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;borg compact &#x2F;path&#x2F;to&#x2F;repo
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
</content>
        
    </entry>
    <entry xml:lang="zh">
        <title>利用 certbot 配置 SSL 证书</title>
        <published>2024-04-10T00:00:00+00:00</published>
        <updated>2024-04-10T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://flyingicedragon.github.io/blog/certbot/"/>
        <id>https://flyingicedragon.github.io/blog/certbot/</id>
        
        <content type="html" xml:base="https://flyingicedragon.github.io/blog/certbot/">&lt;p&gt;&lt;code&gt;certbot&lt;&#x2F;code&gt; 是 &lt;code&gt;Let’s Encrypt&lt;&#x2F;code&gt; 提供的官方工具，用于辅助获取 SSL 证书。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;certbot-an-zhuang&quot;&gt;certbot 安装&lt;&#x2F;h2&gt;
&lt;p&gt;官方建议的安装方式是利用 &lt;code&gt;snap&lt;&#x2F;code&gt;。但是个人实在是讨厌 &lt;code&gt;snap&lt;&#x2F;code&gt; 这个工具，而是更青睐于 &lt;code&gt;apt&lt;&#x2F;code&gt;。&lt;code&gt;certbot&lt;&#x2F;code&gt; 包含在了 Debian 官方仓库中，可以直接安装。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;apt install certbot
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;apt install certbot --install-suggests
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;如果需要 &lt;code&gt;apache&lt;&#x2F;code&gt; 或者 &lt;code&gt;nginx&lt;&#x2F;code&gt; 的自动配置，可以直接安装 suggests 部分。如果不需要，则无需添加 &lt;code&gt;--install-suggests&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
&lt;p&gt;此外，还可以考虑使用 &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;dl.eff.org&#x2F;certbot-auto&quot;&gt;certbot-auto&lt;&#x2F;a&gt;。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;sheng-cheng-ssl-zheng-shu&quot;&gt;生成 SSL 证书&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;jiao-hu-shi-shou-dong-huo-qu-ren-zheng-manual&quot;&gt;交互式手动获取认证 &lt;code&gt;--manual&lt;&#x2F;code&gt;&lt;&#x2F;h3&gt;
&lt;p&gt;以下两种域名可以通过指定多个 &lt;code&gt;-d&lt;&#x2F;code&gt; 参数一次性完成。&lt;&#x2F;p&gt;
&lt;h4 id=&quot;fan-yu-ming-zheng-shu&quot;&gt;泛域名证书&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;certbot run -d &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b8bb26;&quot;&gt;&amp;quot;*.example.com&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt; --manual
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;泛域名认证需要添加一条 TXT 类型域名记录，根据提示操作即可。&lt;&#x2F;p&gt;
&lt;img alt=&quot;DNS TXT&quot; src=&quot;DNS_TXT.png&quot; width=&quot;100%&quot;&gt;
&lt;h4 id=&quot;pu-tong-yu-ming-zheng-shu&quot;&gt;普通域名证书&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;certbot run -d &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b8bb26;&quot;&gt;&amp;quot;example.com&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt; --manual
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;需要搭建一个临时 HTTP 服务器包含有指定的内容。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;nginx-apache-deng&quot;&gt;nginx、apache 等&lt;&#x2F;h3&gt;
&lt;p&gt;可以直接利用 &lt;code&gt;--nginx&lt;&#x2F;code&gt;、&lt;code&gt;--apache&lt;&#x2F;code&gt; 参数调用 plugin 辅助完成。&lt;code&gt;certbot&lt;&#x2F;code&gt; 会自动修改配置文件。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;cha-kan-zheng-shu-zhuang-tai&quot;&gt;查看证书状态&lt;&#x2F;h2&gt;
&lt;p&gt;证书三个月内有效，可以查看证书状态。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;certbot certificates
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;xu-qian-zheng-shu&quot;&gt;续签证书&lt;&#x2F;h2&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;certbot renew
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;根据情况添加参数。续签证书和首次生成相同，需要重新进行认证。普通域名配合 &lt;code&gt;nginx&lt;&#x2F;code&gt; 等工具可以很方便完成，泛域名需要修改 DNS 记录。可以利用 &lt;code&gt;--manual-auth-hook&lt;&#x2F;code&gt; 和 &lt;code&gt;--manual-cleanup-hook&lt;&#x2F;code&gt; 参数来提供脚本配合 DNS 服务商的 api 实现自动修改 DNS 记录。&lt;code&gt;renew&lt;&#x2F;code&gt; 不支持交互方式完成。&lt;&#x2F;p&gt;
&lt;p&gt;因为获取证书有次数限制，建议使用 &lt;code&gt;--dry-run&lt;&#x2F;code&gt; 进行测试。测试完成后，&lt;code&gt;renew&lt;&#x2F;code&gt; 会自动进行 30 天内过期证书的续签工作。&lt;&#x2F;p&gt;
&lt;p&gt;参考资料：&lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;eff-certbot.readthedocs.io&#x2F;en&#x2F;latest&#x2F;index.html&quot;&gt;Certbot&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="zh">
        <title>Linux 查看目录下的文件名（不带后缀）</title>
        <published>2024-03-27T00:00:00+00:00</published>
        <updated>2024-03-27T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://flyingicedragon.github.io/blog/basename/"/>
        <id>https://flyingicedragon.github.io/blog/basename/</id>
        
        <content type="html" xml:base="https://flyingicedragon.github.io/blog/basename/">&lt;p&gt;现存在以下文件列表：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;# ls &#x2F;path
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;test1.txt  test2.txt
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;需要只提取出文件名，而不需要后缀名，如：test1、test2&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;# 显示文件名，不包含目录
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;basename &#x2F;path&#x2F;test1.txt
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;# test1.txt
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;# 显示文件名，不包含目录与后缀
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;basename &#x2F;path&#x2F;text1.txt .txt
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;# or
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;basename -s .txt &#x2F;path&#x2F;text1.txt
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;# text1
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;# 将多个参数按照顺序输出
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;basename -a &#x2F;path&#x2F;text1.txt &#x2F;path&#x2F;text2.txt
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;# 或者直接利用 ls
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;basename -a `ls`
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;# text1.txt
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;# text2.txt
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
</content>
        
    </entry>
    <entry xml:lang="zh">
        <title>Linux下wget下载整个FTP目录(含子目录)</title>
        <published>2020-09-05T00:00:00+00:00</published>
        <updated>2020-09-05T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://flyingicedragon.github.io/blog/wget/"/>
        <id>https://flyingicedragon.github.io/blog/wget/</id>
        
        <content type="html" xml:base="https://flyingicedragon.github.io/blog/wget/">&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;wget -nH -m --ftp-user&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fe8019;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;your_username --ftp-password&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fe8019;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;your_password ftp:&#x2F;&#x2F;your_ftp_host&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fe8019;&quot;&gt;*
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;-nH：不创建以主机名命名的目录&lt;br &#x2F;&gt;
--cut-dirs：后面接希望去掉原来的目录层数，从根目录开始计算。如果想完全保留 FTP 原有的目录结构，则不要加该参数。&lt;br &#x2F;&gt;
-m：下载所有子目录并且保留目录结构。&lt;br &#x2F;&gt;
–ftp-user：FTP用户名&lt;br &#x2F;&gt;
–ftp-password：FTP 密码&lt;br &#x2F;&gt;
ftp:&#x2F;&#x2F;...&#x2F;*：FTP 主机地址。最后可以跟目录名来下载指定目录。&lt;&#x2F;p&gt;
&lt;p&gt;例子：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;wget -nH -m --ftp-user&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fe8019;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;tom --ftp-password&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fe8019;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;123456 ftp:&#x2F;&#x2F;192.168.19.1&#x2F;tom&#x2F;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;blockquote&gt;
&lt;p&gt;https:&#x2F;&#x2F;www.cnblogs.com&#x2F;ftl1012&#x2F;p&#x2F;9265699.html&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
</content>
        
    </entry>
</feed>
