<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tasker配合ntfy接收通知 - 冰龙圣土</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap">
  <link rel="stylesheet" href="https://flyingicedragon.github.io/assets/css/custom.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"><link rel="apple-touch-icon" sizes="180x180" href="https://flyingicedragon.github.io/images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://flyingicedragon.github.io/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://flyingicedragon.github.io/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="https://flyingicedragon.github.io/images/favicon/site.webmanifest">
    <link rel="mask-icon" href="https://flyingicedragon.github.io/images/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#2d89ef">
    <meta name="theme-color" content="#ffffff"><link rel="canonical" href="https://flyingicedragon.github.io/blog/taskerpei-he-ntfyjie-shou-tong-zhi/" /><link rel="alternate" type="application/atom+xml"
        title="RSS" href="https://flyingicedragon.github.io/atom.xml"
      ><meta name="author" content="icedragon"><meta property="article:published_time" content='2024-09-19' /><meta name="keywords" content="Tasker,ntfy,notification,"><meta name="generator" content="Zola">
  <meta property="og:title" content="Tasker配合ntfy接收通知" />
  <meta property="og:url" content="https://flyingicedragon.github.io/blog/taskerpei-he-ntfyjie-shou-tong-zhi/" /><meta property="og:site_name" content="冰龙圣土" />
  <meta property="og:locale" content="zh_CN" />
  <meta name="twitter:card" content="summary" /><meta name="twitter:creator" content="@user" /><meta name="google-site-verification" content="0123457890abcdefg" />
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-0123456789"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-0123456789');
    </script>
</head>
<body>
  <div class="container-fluid vh-100">
    <div class="row h-100"><div
    class="sidebar d-none d-lg-block col-lg-3 col-xl-2 mh-100 p-0 overflow-auto"
  >
    <aside class="d-flex flex-column justify-content-between h-100">
      <div class="d-none d-md-block mb-4 pt-5 px-4 text-center">
        <div class="sidebar-avatar mb-2 mx-auto border border-3 rounded-circle">
          <a href="https://flyingicedragon.github.io/" target="_blank" rel="noopener noreferrer">
    <img
      src="https://flyingicedragon.github.io/images/avatar.png"
      alt="icedragon"
      class="img-fluid"
    >
  </a>
        </div>
        <div class="mb-1">
          <a
            href="https://flyingicedragon.github.io/"
            class="sidebar-title fs-5 fw-bold text-decoration-none"
          >
            冰龙圣土
          </a>
        </div>
        <div class="fw-light">
          飞舞的冰龙的个人空间
        </div>
      </div>

      <div class="sidebar-nav list-group my-auto rounded-0 text-center"><a
        href="https://flyingicedragon.github.io/"
        class="sidebar-nav-item list-group-item list-group-item-action border border-0"
        data-bs-toggle="tooltip" data-bs-title="Home"
      >
        <span class="sidebar-nav-icon bi bi-house d-none fs-4"></span>
        <span class="sidebar-nav-text d-none d-md-inline">
          Home
        </span>
      </a><a
        href="https://flyingicedragon.github.io/blog/"
        class="sidebar-nav-item list-group-item list-group-item-action border border-0"
        data-bs-toggle="tooltip" data-bs-title="Blog"
      >
        <span class="sidebar-nav-icon bi bi-file-earmark-text d-none fs-4"></span>
        <span class="sidebar-nav-text d-none d-md-inline">
          Blog
        </span>
      </a><a
        href="https://flyingicedragon.github.io/"
        class="sidebar-nav-item list-group-item list-group-item-action border border-0"
        data-bs-toggle="tooltip" data-bs-title="About"
      >
        <span class="sidebar-nav-icon bi bi-question-octagon d-none fs-4"></span>
        <span class="sidebar-nav-text d-none d-md-inline">
          About
        </span>
      </a></div>

      <div class="sidebar-social d-none d-md-block mt-4 pb-4 px-4">
        <div class="container-fluid">
          <div class="row justify-content-center">
            <div class="col-auto px-2">
        <a
          href="mailto:flyingicedragon@outlook.com"
          target="_blank" rel="noopener noreferrer"
          data-bs-toggle="tooltip"
          data-bs-title='Email'
          class="text-decoration-none"
        >
          <span class="bi bi-envelope-fill"></span>
        </a>
      </div><div class="col-auto px-2">
        <a
          href="https://github.com/flyingicedragon"
          target="_blank" rel="noopener noreferrer"
          data-bs-toggle="tooltip"
          data-bs-title='GitHub'
          class="text-decoration-none"
        >
          <span class="bi bi-github"></span>
        </a>
      </div>
          </div>
        </div>
      </div>
    </aside>
  </div><div class="col mh-100 overflow-auto px-0"><nav
    class="navbar navbar-expand navbar-bg-light sticky-top border-bottom"
  >
    <div class="container-fluid"><button
        type="button"
        class="btn d-block d-lg-none fs-5"
        data-bs-toggle="offcanvas" data-bs-target="#offcanvas"
        aria-controls="offcanvas"
      >
        <span class="bi bi-list"></span>
      </button>
      
      <div class="col-8">
        
          <div class="row justify-content-center justify-content-lg-start p-2 ps-xl-3 text-center"><div class="col-auto d-none d-xl-block">
        <a
          href="https://flyingicedragon.github.io/blog/"
          class="text-decoration-none"
        >
          Blog
        </a>
      </div>
      <div class="col-auto d-none d-xl-block">
        <span class="text-secondary">
          »
        </span>
      </div><div class="col-auto">
      <span
        class="d-inline d-sm-none text-secondary"
        data-bs-toggle="tooltip"
        data-bs-title="Tasker配合ntfy接收通知"
      >
        Tasker配合ntfy接收通知
      </span>
      <span
        class="d-none d-sm-inline text-secondary"
        data-bs-toggle="tooltip"
        data-bs-title="Tasker配合ntfy接收通知"
      >
        Tasker配合ntfy接收通知
      </span>
    </div>
  </div>
        
      </div>

      <button
    type="button" data-bs-toggle="modal" data-bs-target="#searchModal"
    class="btn border border-0"
  >
    <span class="bi bi-search fs-5"></span>
  </button>
    </div>
  </nav><div class="d-flex flex-column h-100"><main class="container">
    <div class="row justify-content-center mt-5">
      <div class="col-11 col-lg-10 col-xxl-9">
        <h1 class="mb-3">
          Tasker配合ntfy接收通知
        </h1>
        <div class="row mt-3 mb-2">
          <div class="col-auto">
            <small class="text-muted">
              By:
              <a
                href="https://flyingicedragon.github.io/"
                target="_blank" rel="noopener noreferrer"
                class="text-decoration-none"
              >
                icedragon
              </a>
            </small>
          </div>
        </div>
        <div class="row mb-3">
          <div class="col-auto mb-2">
            <small class="text-muted">
              Posted:
              <time datetime="2024-09-19">
                <a 
                  href="#" data-bs-toggle="tooltip"
                  data-bs-title="Thursday, September 19, 2024 12:00:00 AM UTC"
                  class="text-muted text-decoration-none"
                >
                  September 19, 2024
                </a>
              </time>
            </small>
          </div>
          
        </div><div class="mb-5">
          <p><a rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/binwiederhier/ntfy"><code>ntfy</code></a>是一个在设备间传递消息的工具。可以直接使用官方提供的服务，也可以自建。类似的工具还有很多，例如<a rel="noopener nofollow noreferrer" target="_blank" href="https://gotify.net/docs/index"><code>gotify</code></a>等等。这里以<code>ntfy</code>为例，其他工具也大多支持<code>GET</code>或<code>PUT</code>的方式发送和接收消息。</p>
<p><code>Tasker</code>是一个在安卓设备上非常流行的自动化工具，可以发送<code>GET</code>请求与<code>ntfy</code>服务器通讯来接收消息。</p>
<h2 id="ntfyfa-song-he-jie-shou-xiao-xi"><code>ntfy</code>发送和接收消息</h2>
<h3 id="fa-song-xiao-xi">发送消息</h3>
<p><code>ntfy</code>支持众多的发送消息方式，这里以<code>PUT json</code>为例。更多内容参考<a rel="noopener nofollow noreferrer" target="_blank" href="https://docs.ntfy.sh/publish/">https://docs.ntfy.sh/publish/</a>。</p>
<p>注意<code>URL</code>中不包含<code>topic</code>，而是放在了<code>JSON</code>中。文档中的示例：</p>
<pre data-lang="js" style="background-color:#282828;color:#fdf4c1aa;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#8ec07c;">fetch</span><span>(</span><span style="color:#b8bb26;">&#39;https://ntfy.sh&#39;</span><span>, {
</span><span>    method: </span><span style="color:#b8bb26;">&#39;POST&#39;</span><span>,
</span><span>    body: </span><span style="color:#fabd2f;">JSON</span><span style="color:#fdf4c1;">.</span><span style="color:#fabd2f;">stringify</span><span>({
</span><span>        </span><span style="color:#b8bb26;">&quot;topic&quot;</span><span>: </span><span style="color:#b8bb26;">&quot;mytopic&quot;</span><span>,
</span><span>        </span><span style="color:#b8bb26;">&quot;message&quot;</span><span>: </span><span style="color:#b8bb26;">&quot;Disk space is low at 5.1 GB&quot;</span><span>,
</span><span>        </span><span style="color:#b8bb26;">&quot;title&quot;</span><span>: </span><span style="color:#b8bb26;">&quot;Low disk space alert&quot;</span><span>,
</span><span>        </span><span style="color:#b8bb26;">&quot;tags&quot;</span><span>: [</span><span style="color:#b8bb26;">&quot;warning&quot;</span><span>,</span><span style="color:#b8bb26;">&quot;cd&quot;</span><span>],
</span><span>        </span><span style="color:#b8bb26;">&quot;priority&quot;</span><span>: </span><span style="color:#d3869b;">4</span><span>,
</span><span>        </span><span style="color:#b8bb26;">&quot;attach&quot;</span><span>: </span><span style="color:#b8bb26;">&quot;https://filesrv.lan/space.jpg&quot;</span><span>,
</span><span>        </span><span style="color:#b8bb26;">&quot;filename&quot;</span><span>: </span><span style="color:#b8bb26;">&quot;diskspace.jpg&quot;</span><span>,
</span><span>        </span><span style="color:#b8bb26;">&quot;click&quot;</span><span>: </span><span style="color:#b8bb26;">&quot;https://homecamera.lan/xasds1h2xsSsa/&quot;</span><span>,
</span><span>        </span><span style="color:#b8bb26;">&quot;actions&quot;</span><span>: [{ </span><span style="color:#b8bb26;">&quot;action&quot;</span><span>: </span><span style="color:#b8bb26;">&quot;view&quot;</span><span>, </span><span style="color:#b8bb26;">&quot;label&quot;</span><span>: </span><span style="color:#b8bb26;">&quot;Admin panel&quot;</span><span>, </span><span style="color:#b8bb26;">&quot;url&quot;</span><span>: </span><span style="color:#b8bb26;">&quot;https://filesrv.lan/admin&quot; </span><span>}]
</span><span>    })
</span><span>})
</span></code></pre>
<h3 id="jie-shou-xiao-xi">接收消息</h3>
<p>这里和发送消息类似。可以使用<code>Javascript</code>中的<code>fetch</code>函数发送<code>GET</code>请求。返回的数据为<code>JSON</code>格式。</p>
<h2 id="li-yong-taskerjie-shou-xiao-xi">利用<code>Tasker</code>接收消息</h2>
<p>由于涉及到从网络上获取信息，所以存在比较高的失败可能性，因此需要添加大量的错误处理逻辑。为了整体流程清晰，强烈建议将逻辑完全写在一个<code>Javascript</code>脚本中。</p>
<pre data-lang="js" style="background-color:#282828;color:#fdf4c1aa;" class="language-js "><code class="language-js" data-lang="js"><span style="font-style:italic;color:#928374;">// ntfy的每个消息都有一个ID。利用这个ID可以只获取最新的消息。
</span><span>
</span><span style="color:#fa5c4b;">let </span><span style="color:#fdf4c1;">lastNotification</span><span>;
</span><span style="color:#fa5c4b;">try </span><span>{
</span><span>    </span><span style="color:#fdf4c1;">lastNotification </span><span style="color:#fe8019;">= </span><span style="color:#fabd2f;">global</span><span>(</span><span style="color:#b8bb26;">&#39;%NotificationID&#39;</span><span>);
</span><span>} </span><span style="color:#fa5c4b;">catch </span><span>(</span><span style="color:#fdf4c1;">e</span><span>) {
</span><span>    </span><span style="color:#fdf4c1;">lastNotification </span><span style="color:#fe8019;">= </span><span style="color:#b8bb26;">&#39;notificationID&#39;</span><span>;
</span><span>    </span><span style="color:#8ec07c;">console</span><span style="color:#fdf4c1;">.</span><span style="color:#fabd2f;">log</span><span>(</span><span style="color:#b8bb26;">&#39;Run in browser&#39;</span><span>);
</span><span>}
</span><span style="color:#fa5c4b;">const </span><span style="color:#fdf4c1;">ntfyUrl </span><span style="color:#fe8019;">= </span><span style="color:#b8bb26;">&#39;https://ntfy.sh/mytopic/json?poll=1&amp;since=&#39; </span><span style="color:#fe8019;">+ </span><span style="color:#fdf4c1;">lastNotification</span><span>;
</span><span>
</span><span style="font-style:italic;color:#928374;">// 日志输出。根据情况输出到浏览器控制台或者手机日志文件。
</span><span style="color:#fa5c4b;">const </span><span style="color:#8ec07c;">taskerLog </span><span style="color:#fe8019;">= </span><span style="color:#fa5c4b;">function </span><span>(</span><span style="color:#fdf4c1;">str</span><span>) {
</span><span>    </span><span style="color:#fa5c4b;">const </span><span style="color:#fdf4c1;">isOnMobile </span><span style="color:#fe8019;">= typeof </span><span style="color:#fdf4c1;">flash </span><span style="color:#fe8019;">=== </span><span style="color:#b8bb26;">&#39;function&#39;</span><span>;
</span><span>    </span><span style="color:#fa5c4b;">if </span><span>(</span><span style="color:#fdf4c1;">isOnMobile</span><span>) {
</span><span>        </span><span style="color:#8ec07c;">writeFile</span><span>(</span><span style="color:#b8bb26;">&#39;ntfy.log&#39;</span><span>, </span><span style="color:#fdf4c1;">str </span><span style="color:#fe8019;">+ </span><span style="color:#b8bb26;">&#39;\n&#39;</span><span>, </span><span style="color:#d3869b;">true</span><span>);
</span><span>    } </span><span style="color:#fa5c4b;">else </span><span>{
</span><span>        </span><span style="color:#8ec07c;">console</span><span style="color:#fdf4c1;">.</span><span style="color:#fabd2f;">log</span><span>(</span><span style="color:#fdf4c1;">str</span><span>);
</span><span>    }
</span><span>}
</span><span>
</span><span style="font-style:italic;color:#928374;">// fetch notifications from ntfy
</span><span style="color:#fa5c4b;">const </span><span style="color:#8ec07c;">fetchNotifications </span><span style="color:#fe8019;">= </span><span style="color:#fa5c4b;">function </span><span>() {
</span><span>    </span><span style="color:#8ec07c;">taskerLog</span><span>(</span><span style="color:#b8bb26;">&#39;开始查询URL: &#39; </span><span style="color:#fe8019;">+ </span><span style="color:#fdf4c1;">ntfyUrl</span><span>);
</span><span>    </span><span style="color:#8ec07c;">fetch</span><span>(</span><span style="color:#fdf4c1;">ntfyUrl</span><span>)
</span><span>        </span><span style="color:#fdf4c1;">.</span><span style="color:#fabd2f;">then</span><span>(</span><span style="color:#fdf4c1;">response </span><span style="color:#fa5c4b;">=&gt; </span><span>{
</span><span>            </span><span style="color:#8ec07c;">taskerLog</span><span>(</span><span style="color:#b8bb26;">&#39;Fetch response status:&#39;</span><span>);
</span><span>            </span><span style="color:#8ec07c;">taskerLog</span><span>(</span><span style="color:#fdf4c1;">response</span><span>.</span><span style="color:#fabd2f;">status</span><span>);
</span><span>            </span><span style="color:#fa5c4b;">return </span><span style="color:#fdf4c1;">response.</span><span style="color:#8ec07c;">text</span><span>()
</span><span>        })
</span><span>        </span><span style="color:#fdf4c1;">.</span><span style="color:#fabd2f;">then</span><span>(</span><span style="color:#fdf4c1;">data </span><span style="color:#fa5c4b;">=&gt; </span><span>{
</span><span>            </span><span style="color:#fa5c4b;">if </span><span>(</span><span style="color:#fdf4c1;">data</span><span>) {
</span><span>                </span><span style="color:#fa5c4b;">const </span><span style="color:#fdf4c1;">lines </span><span style="color:#fe8019;">= </span><span style="color:#fdf4c1;">data.</span><span style="color:#8ec07c;">trim</span><span>()</span><span style="color:#fdf4c1;">.</span><span style="color:#fabd2f;">split</span><span>(</span><span style="color:#b8bb26;">&#39;\n&#39;</span><span>);
</span><span>                </span><span style="color:#fdf4c1;">lines.</span><span style="color:#fabd2f;">forEach</span><span>(</span><span style="color:#fdf4c1;">line </span><span style="color:#fa5c4b;">=&gt; </span><span>{
</span><span>                    </span><span style="color:#fa5c4b;">let </span><span style="color:#fdf4c1;">latestID</span><span>;
</span><span>                    </span><span style="color:#fa5c4b;">let </span><span style="color:#fdf4c1;">latestTime </span><span style="color:#fe8019;">= </span><span style="color:#d3869b;">0</span><span>;
</span><span>                    </span><span style="color:#fa5c4b;">try </span><span>{
</span><span>                        </span><span style="color:#fa5c4b;">const </span><span style="color:#fdf4c1;">notification </span><span style="color:#fe8019;">= </span><span style="color:#fabd2f;">JSON</span><span style="color:#fdf4c1;">.</span><span style="color:#fabd2f;">parse</span><span>(</span><span style="color:#fdf4c1;">line</span><span>);
</span><span>                        </span><span style="color:#fa5c4b;">const </span><span style="color:#fdf4c1;">title </span><span style="color:#fe8019;">= </span><span style="color:#fdf4c1;">notification</span><span>.</span><span style="color:#fabd2f;">title </span><span style="color:#fe8019;">|| </span><span style="color:#b8bb26;">&quot;New Notification&quot;</span><span>;
</span><span>                        </span><span style="color:#fa5c4b;">const </span><span style="color:#fdf4c1;">message </span><span style="color:#fe8019;">= </span><span style="color:#fdf4c1;">notification</span><span>.</span><span style="color:#fdf4c1;">message </span><span style="color:#fe8019;">|| </span><span style="color:#b8bb26;">&quot;You have a new notification.&quot;</span><span>;
</span><span>                        </span><span style="color:#fa5c4b;">const </span><span style="color:#fdf4c1;">id </span><span style="color:#fe8019;">= </span><span style="color:#fdf4c1;">notification</span><span>.</span><span style="color:#fabd2f;">id</span><span>;
</span><span>                        </span><span style="color:#fa5c4b;">const </span><span style="color:#fdf4c1;">time </span><span style="color:#fe8019;">= </span><span style="color:#fdf4c1;">notification</span><span>.</span><span style="color:#fdf4c1;">time</span><span>;
</span><span>                        </span><span style="color:#fa5c4b;">if </span><span>(</span><span style="color:#fdf4c1;">time </span><span style="color:#fe8019;">&gt; </span><span style="color:#fdf4c1;">latestTime</span><span>) {
</span><span>                            </span><span style="color:#fdf4c1;">latestID </span><span style="color:#fe8019;">= </span><span style="color:#fdf4c1;">id</span><span>;
</span><span>                        }
</span><span>
</span><span>                        </span><span style="color:#8ec07c;">taskerLog</span><span>(</span><span style="color:#fdf4c1;">title</span><span>);
</span><span>                        </span><span style="color:#8ec07c;">taskerLog</span><span>(</span><span style="color:#fdf4c1;">message</span><span>);
</span><span>
</span><span>                        </span><span style="font-style:italic;color:#928374;">// 将得到的信息传递给另一个任务“通知栏提醒”。
</span><span>                        </span><span style="color:#fa5c4b;">let </span><span style="color:#fdf4c1;">result </span><span style="color:#fe8019;">= </span><span style="color:#8ec07c;">performTask</span><span>(
</span><span>                            </span><span style="color:#b8bb26;">&#39;通知栏提醒&#39;</span><span>, </span><span style="color:#8ec07c;">local</span><span>(</span><span style="color:#b8bb26;">&#39;%priority&#39;</span><span>), </span><span style="color:#fdf4c1;">title</span><span>, </span><span style="color:#fdf4c1;">message
</span><span>                        );
</span><span>                        </span><span style="color:#8ec07c;">taskerLog</span><span>(</span><span style="color:#fdf4c1;">result</span><span>);
</span><span>
</span><span>                        </span><span style="color:#8ec07c;">setGlobal</span><span>(</span><span style="color:#b8bb26;">&#39;%NotificationID&#39;</span><span>, </span><span style="color:#fdf4c1;">latestID</span><span>);
</span><span>                    } </span><span style="color:#fa5c4b;">catch </span><span>(</span><span style="color:#fdf4c1;">e</span><span>) {
</span><span>                        </span><span style="color:#fa5c4b;">throw new </span><span style="color:#8ec07c;">Error</span><span>(</span><span style="color:#b8bb26;">&#39;Error parsing JSON&#39; </span><span style="color:#fe8019;">+ </span><span style="color:#fdf4c1;">e </span><span style="color:#fe8019;">+ </span><span style="color:#b8bb26;">&#39;Line:&#39; </span><span style="color:#fe8019;">+ </span><span style="color:#fdf4c1;">line</span><span>);
</span><span>                    }
</span><span>                })
</span><span>            } </span><span style="color:#fa5c4b;">else </span><span>{
</span><span>                </span><span style="color:#8ec07c;">taskerLog</span><span>(</span><span style="color:#b8bb26;">&#39;No new notifications.&#39;</span><span>);
</span><span>            }
</span><span>        })
</span><span>        </span><span style="color:#fdf4c1;">.</span><span style="color:#fabd2f;">then</span><span>(</span><span style="color:#fdf4c1;">r </span><span style="color:#fa5c4b;">=&gt; </span><span style="color:#8ec07c;">exit</span><span>())
</span><span>        </span><span style="color:#fdf4c1;">.</span><span style="color:#fabd2f;">catch</span><span>(</span><span style="color:#fdf4c1;">error </span><span style="color:#fa5c4b;">=&gt; </span><span>{
</span><span>            </span><span style="color:#8ec07c;">taskerLog</span><span>(</span><span style="color:#b8bb26;">&#39;Error fetching notifications: &#39; </span><span style="color:#fe8019;">+ </span><span style="color:#fdf4c1;">error</span><span>);
</span><span>        });
</span><span>    </span><span style="color:#8ec07c;">taskerLog</span><span>(</span><span style="color:#b8bb26;">&#39;查询结束&#39;</span><span>);
</span><span>}
</span><span>
</span><span style="color:#8ec07c;">fetchNotifications</span><span>();
</span></code></pre>
<p>由于<code>Tasker</code>中的<code>Javascript</code>不支持直接发送通知栏提醒，所以需要另外创建一个<code>Task</code>。利用<code>performTask</code>启动<code>Task</code>并传递相关参数。</p>
<p>“通知栏提醒”这个<code>Task</code>中仅需要包含<code>Notify</code>这一个<code>Action</code>。<code>Action</code>中可以使用<code>%par1</code>和<code>%par2</code>这样的变量获取前面传递的参数。<code>Notify</code>中的具体内容可以根据情况填写。</p>

        </div>
        
          <div class="row my-1">
            <div class="col-auto">
              <span class="bi bi-bookmarks fs-6 me-1"></span>
              
    <a
      href="https://flyingicedragon.github.io/categories/technology/"
      class="btn btn-taxonomy btn-sm m-1 border text-decoration-none"
    >
      <small>
        technology
      </small>
    </a>
  
            </div>
          </div>
        
        
          <div class="row mt-1 mb-3">
            <div class="col-auto">
              <span class="bi bi-tags fs-6 me-1"></span>
              
    <a
      href="https://flyingicedragon.github.io/tags/tasker/"
      class="btn btn-taxonomy btn-sm m-1 border text-decoration-none"
    >
      <small>
        Tasker
      </small>
    </a>
  
    <a
      href="https://flyingicedragon.github.io/tags/ntfy/"
      class="btn btn-taxonomy btn-sm m-1 border text-decoration-none"
    >
      <small>
        ntfy
      </small>
    </a>
  
    <a
      href="https://flyingicedragon.github.io/tags/notification/"
      class="btn btn-taxonomy btn-sm m-1 border text-decoration-none"
    >
      <small>
        notification
      </small>
    </a>
  
            </div>
          </div>
        
      </div>
    </div>
  </main><div class="container">
    <div class="row justify-content-center mt-3 mb-4">
      <div class="col-11 col-lg-10 col-xxl-9"></div>
    </div>
  </div><footer class="container-fluid mt-auto">
    <div class="row justify-content-center">
      <div class="col-10">
        <div class="row pt-3 pb-4 border-top">
          <div class="col-12 col-md-6 mb-2 mb-md-0 text-center text-md-start">
            <small class="text-secondary">
              © 2025
              <a 
                href="https://flyingicedragon.github.io/"
                target="_blank" rel="noopener noreferrer"
                class="text-decoration-none"
              >
                icedragon&period;
              </a>
              <a
                href="https://creativecommons.org/licenses/by/4.0/"
                data-bs-toggle="tooltip"
                data-bs-title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
                class="text-secondary text-decoration-none"
              >
                Some rights reserved.
              </a>
            </small>
          </div>
          <div class="col-12 col-md-6 text-center text-md-end">
            <small class="text-secondary">
              Powered by
              <a 
                href="https://www.getzola.org/"
                target="_blank" rel="noopener noreferrer"
                class="text-decoration-none"
              >
                Zola
              </a>
              with
              <a 
                href="https://github.com/gersonbdev/ataraxia-zola"
                target="_blank" rel="noopener noreferrer"
                class="text-decoration-none"
              >
                Ataraxia
              </a>
              theme.
            </small>
          </div>
        </div>
      </div>
    </div>
  </footer>
        </div>
      </div>
    </div>
  </div>
  <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvas" aria-labelledby="offcanvasLabel">
    <div class="offcanvas-body p-0">
      <div class="sidebar container-fluid vh-100">
        <div class="row h-100">
          <div
            class="col mh-100 px-0 overflow-auto"
          >
            <aside class="d-flex flex-column justify-content-between h-100">
              <div class="mb-4 pt-5 px-3 text-center">
                <div class="sidebar-avatar mb-2 mx-auto border border-3 rounded-circle">
                  <a href="https://flyingicedragon.github.io/" target="_blank" rel="noopener noreferrer">
    <img
      src="https://flyingicedragon.github.io/images/avatar.png"
      alt="icedragon"
      class="img-fluid"
    >
  </a>
                </div>
                <div>
                  <a
                    href="https://flyingicedragon.github.io/"
                    class="sidebar-title fs-5 fw-bold text-decoration-none"
                  >
                    冰龙圣土
                  </a>
                </div>
              </div>

              <div class="sidebar-nav list-group my-auto rounded-0 text-start"><a
        href="https://flyingicedragon.github.io/"
        class="sidebar-nav-item list-group-item list-group-item-action border border-0"
        data-bs-toggle="tooltip" data-bs-title="Home"
      >
        <span class="sidebar-nav-icon bi bi-house ms-2 me-1 fs-4"></span>
        <span class="sidebar-nav-text">Home</span>
      </a><a
        href="https://flyingicedragon.github.io/blog/"
        class="sidebar-nav-item list-group-item list-group-item-action border border-0"
        data-bs-toggle="tooltip" data-bs-title="Blog"
      >
        <span class="sidebar-nav-icon bi bi-file-earmark-text ms-2 me-1 fs-4"></span>
        <span class="sidebar-nav-text">Blog</span>
      </a><a
        href="https://flyingicedragon.github.io/"
        class="sidebar-nav-item list-group-item list-group-item-action border border-0"
        data-bs-toggle="tooltip" data-bs-title="About"
      >
        <span class="sidebar-nav-icon bi bi-question-octagon ms-2 me-1 fs-4"></span>
        <span class="sidebar-nav-text">About</span>
      </a></div>

              <div class="sidebar-social mt-4 pb-4 px-3">
                <div class="container-fluid">
                  <div class="row justify-content-center">
                    <div class="col-auto px-2">
        <a
          href="mailto:flyingicedragon@outlook.com"
          target="_blank" rel="noopener noreferrer"
          data-bs-toggle="tooltip"
          data-bs-title='Email'
          class="text-decoration-none"
        >
          <span class="bi bi-envelope-fill"></span>
        </a>
      </div><div class="col-auto px-2">
        <a
          href="https://github.com/flyingicedragon"
          target="_blank" rel="noopener noreferrer"
          data-bs-toggle="tooltip"
          data-bs-title='GitHub'
          class="text-decoration-none"
        >
          <span class="bi bi-github"></span>
        </a>
      </div>
                  </div>
                </div>
              </div>
            </aside>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="searchModal" tabindex="-1" aria-labelledby="searchModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="searchModalLabel">
          搜索
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div
          id="searchInput" role="search" 
          class="d-flex mb-3 border rounded-5 bg-white"
        >
          <input
            id="search" type="search"
            class="form-control border border-0 rounded-5 rounded-end"
            placeholder="搜索"
            aria-label="搜索"
          >
          <div class="rounded-5 rounded-start py-2 ps-2 pe-3">
            <span class="bi bi-search"></span>
          </div>
        </div>
        <div class="search-results">
          <div class="search-results__items">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
  <script src="https://flyingicedragon.github.io/assets/js/bootstrap/bootstrap.bundle.min.js"></script>
  <script>
    const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
    const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl));
    const myModal = document.getElementById('searchModal');
    const myInput = document.getElementById('searchInput');

    myModal.addEventListener('shown.bs.modal', () => {
      myInput.focus()
    });
  </script>
  <script src="https://flyingicedragon.github.io/elasticlunr.min.js"></script>
  <script src="https://flyingicedragon.github.io/search_index.zh.js"></script><script src="https://flyingicedragon.github.io/assets/js/search/lunr.stemmer.support.min.js"></script>
    <script src="https://flyingicedragon.github.io/assets/js/search/lunr.zh.min.js"></script><script src="https://flyingicedragon.github.io/assets/js/search/search.js"></script>
</body>
</html>